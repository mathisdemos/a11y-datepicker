var a11yDatepicker=function(){"use strict";function e(e,t){var n=new Date(e.getTime());return n.setHours(0,0,0,0),n.setDate(1),n.setMonth(n.getMonth()+t),n}function t(e,t){return function e(t,n){n||(n=[]);return 7===n.length?n:(n.push(t),e(6===t?0:t+1,n))}(t).indexOf(e.getDay())}function n(e,t){var n=new Date(e.getTime());return new Date(n.setDate(n.getDate()+t))}function a(e){return new Date(e[0],e[1],e[2])}function r(e,t,n){return n||(n=[]),n.push(e),e<t&&r(e+1,t,n)||n}function i(e,t,n){var a=document.createElement("th"),r=document.createElement("button");r.type="button",r.value=t+"$"+n;var i="-1"===e?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 16" width="6" height="16"><path fill-rule="evenodd" d="M6 2L0 8l6 6V2z"></path></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 16" width="6" height="16"><path fill-rule="evenodd" d="M0 14l6-6-6-6v12z"></path></svg>';return r.setAttribute("data-ad-id",e),r.innerHTML=i,r.addEventListener("click",(function e(t){t.stopPropagation(),r.removeEventListener("click",e);var n=new Event("click",{bubbles:!0});r.dispatchEvent(n)})),a.appendChild(r),a}function o(e,t,n,r){return function(i,o){var d=document.createElement("td"),u=a([t,e,i]);return d.appendChild(function(e,t,n,a,r,i){var o=document.createElement("button"),d=document.createTextNode(e);return o.value=n+"$"+t+"$"+e,o.type="button",o.setAttribute("data-day",!0),o.setAttribute("data-ad-id",""+e+t+n),o.setAttribute("aria-label",r+" "+e+" "+a+" "+n),o.setAttribute("aria-disabled",!i),o.appendChild(d),o}(i,e,t,n,o,r(u))),d}}function d(e,t,n){for(var a=document.createElement("tr"),r=e,i=0;i<7;i++)a.appendChild(t(r,n.weekdays[i])),r+=1;return{el:a,day:r}}function u(e,t){var n=e.split(t);return n.forEach((function(e,t){e.indexOf("d")>-1&&(n[t]="day"),e.indexOf("m")>-1&&(n[t]="month"),e.indexOf("y")>-1&&(n[t]="year")})),n}function c(e){return function(t,n){return t[e.indexOf(n)]}}function l(e){return s(e,".")||s(e,"-")||s(e,"/")}function s(e,t){return e.indexOf(t)>-1?t:null}function p(e,t){var n=l(t),a=u(t,n),r=e.split(n),i=c(a);return new Date(i(r,"year"),i(r,"month")-1,i(r,"day"))}function m(e,t){var n=l(t),a=t.split(n),r=e.getFullYear(),i=e.getMonth()+1,o=e.getDate();return a.map((function(e){return e.match(/d/i)?f(o,e):e.match(/m/i)?f(i,e):e.match(/y/i)?f(r,e):void 0})).join(n)}function f(e,t){var n=(t+"").length-(e+"").length;if(0===n)return e;if(n>0)return function(e,t){for(var n=e+"",a=0;a<t;a++)n=0+n;return n}(e,n);if(n<0)throw new Error("Invalid date format")}function h(e){return a(e.value.split("$").map((function(e){return parseInt(e)})))}function v(e){return e instanceof Date&&!isNaN(e)}function g(e,t,n,a){var r=t&&(v(t)&&t||p(t,a)),i=n&&(v(n)&&n||p(n,a)),o=v(e)&&e||p(e,a);return(!r||r<=o)&&(!i||i>=o)}function y(e,n,r,u){var c,l,s,p,m,f=e.getFullYear(),h=e.getMonth(),v=e.toLocaleDateString(u.locale,{month:"long"}),y=t(e,u.weekStartsOn),w=a([f,h+1,0]).getDate(),D=o(h,f,v,(c=u.minDate,l=u.maxDate,s=u.dateFormat,function(e){return g(e,c,l,s)})),C=document.createElement("table"),b=document.createElement("thead");b.appendChild(function(e,t,n,a,r){var o=document.createElement("tr"),d=document.createElement("th"),u=(a&&r?5:(a||r)&&6)||7;if(d.colSpan=u,d.appendChild(document.createTextNode(n+" "+e)),a){var c=i("-1",e,t);o.appendChild(c)}if(o.appendChild(d),r){var l=i("1",e,t);o.appendChild(l)}return o}(f,h,v,n,r)),b.appendChild((p=u.weekdays,m=document.createElement("tr"),p.forEach((function(e){var t=document.createTextNode(e),n=document.createElement("th");n.appendChild(t),m.appendChild(n)})),m)),C.appendChild(b);var E=function(e,t,n){for(var a=e,r=document.createDocumentFragment(),i=1,o=a;o<7;o++)r.appendChild(t(i,n.weekdays[i])),i+=1;var d=document.createDocumentFragment();for(o=0;o<e;o++){var u=document.createElement("td");d.appendChild(u)}let c=document.createElement("tr");return c.appendChild(d),c.appendChild(r),{el:c,end:i}}(y,D,u);return C.appendChild(E.el),C.appendChild(function(e,t,n,a){for(var r=Math.floor((t-e+1)/7),i=e,o=document.createDocumentFragment(),u=0;u<r;u++){var c=d(i,n,a);o.appendChild(c.el),i=c.day}if(i<=t){var l=document.createElement("tr"),s=0;for(u=i;u<=t;u++)l.appendChild(n(i,a.weekdays[s])),i+=1,s+=1;var p=document.createDocumentFragment();for(u=0;u<7-s;u++){var m=document.createElement("td");p.appendChild(m)}l.appendChild(p),o.appendChild(l)}return o}(E.end,w,D,u)),C}function w(t,n,a){var i=r(a.monthsBeforeCurrent,a.monthsAfterCurrent).length,o=n<0?-1*i:i,d=o<0?0:i-1,u=o<0?i-1:0;return{date:e(t,o),before:-1*d,after:u}}function D(e){return e.focus(),!0}function C(){return document.activeElement}function b(e){return document.querySelector('[data-ad-id="'+e+'"]')}function E(e){return b(""+e.getDate()+e.getMonth()+e.getFullYear())}function x(e,t,n){return t.addEventListener(e,n,!0),function(){t.removeEventListener(e,n,!0)}}function k(e){return e.hasAttribute("data-day")}function A(t,n,a,i,o){i=isNaN(i)?a.monthsBeforeCurrent:i,o=isNaN(o)?a.monthsAfterCurrent:o,T(t,a.id),function(t,n,a,i,o){var d=r(i,o),u=document.createElement("div");d.forEach((function(t,r){var i=void 0===d[r-1],o=void 0===d[r+1],c=e(n,t);u.appendChild(y(c,i,o,a))})),u.setAttribute("data-ad-id",a.id+"group"),u.setAttribute("data-ad-selector","datepicker-container");var c=document.createElement("div");c.setAttribute("data-ad-selector","group-container"),c.setAttribute("data-ad-id",a.id+"group-container"),c.appendChild(u),t.appendChild(c)}(t,n,a,i,o)}function T(e,t){var n=b(t+"group-container");n&&e.removeChild(n)}function F(e,t,n,a){var r=p(n,a);max=m(r,"yyyy-mm-dd"),e.setAttribute(t,r)}function N(e,t,a){var r=h(C()),i=n(r,e),o=E(i);o&&D(o)||function(e,t,n,a){var r=w(n,t>0?1:-1,a);return A(e,r.date,a,r.before,r.after),!0}(t,e,r,a)&&D(E(i))}var L={39:function(e,t,n){"day"===t&&N(1,e.currentTarget,n)},37:function(e,t,n){"day"===t&&N(-1,e.currentTarget,n)},38:function(e,t,n){"day"===t&&N(-7,e.currentTarget,n)},40:function(e,t,n){"day"===t&&N(7,e.currentTarget,n)},27:function(e,t,n){D(b(n.id+"input")),T(e.currentTarget,n.id)},"40shift":function(e,t,n,a){!function(e,t,n){var a=n||t.initialDate&&p(t.initialDate,t.dateFormat)||new Date;A(e,a,t),D(E(a))}(e.currentTarget,n,a)}};function S(e,t,n){function r(e){e.target.hasAttribute("data-direction")&&e.preventDefault()}function i(a){var r,i,o,d,s,m=a.target,f=(r=m.value,i=e.dateFormat,o=l(i),d=c(u(i,o)),!(3!==(s=(s=r.split(o)).map((function(e){return parseInt(e)}))).length||d(s,"month")>12||d(s,"month")<1||!v(new Date(d(s,"year"),d(s,"month")-1,d(s,"day"))))&&g(m.value,e.minDate,e.maxDate,e.dateFormat)&&p(m.value,e.dateFormat));f?(t("selectedDate",f),b("group"+e.id)&&A(m.parentNode,n("selectedDate"),e),m.setCustomValidity("")):m.setCustomValidity("invalid date")}function o(t){t.relatedTarget&&t.relatedTarget.getAttribute("data-ad-id")||T(t.currentTarget.parentNode,e.id)}function d(t){""!==t.target.value&&"click"!==t.type||b(e.id+"group")||(A(t.target.parentNode,n("selectedDate")||e.initialDate&&p(e.initialDate,e.dateFormat)||new Date,e),b(e.id+"group").scrollIntoView())}function s(n,a){var r=h(n);g(r,e.minDate,e.maxDate,e.dateFormat)&&(a.value=m(r,e.dateFormat),t("selectedDate",r),T(a.parentNode,e.id),a.setCustomValidity(""),a.focus(),function(e){var t=new Event("input",{bubbles:!0});e.dispatchEvent(t)}(a))}function f(t){var n=t.target,r=b(e.id+"input");k(n)&&s(n,r),function(e){var t=e.getAttribute("data-ad-id");return"1"===t||"-1"===t}(n)&&function(t){var n=t.currentTarget,r=parseInt(t.target.getAttribute("data-ad-id")),i=t.target.value.split("$"),o=w(i=a([i[0],i[1],1]),r,e);A(n,o.date,e,o.before,o.after)}(t)}function y(t){var a=k(C())?"day":null,r=t.shiftKey?t.which+"shift":t.which;L[r]&&L[r](t,a,e,n("selectedDate"))}this.setListeners=function(e,t){x("focus",t,d),x("click",e,f),x("keydown",e,y),x("input",t,i),x("click",t,d),x("focusout",t,o),x("mousedown",e,r)}}function B(e,t){var n=O({},e);return n=O(n,t)}function O(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}var M={locale:"en-EN",weekDayFormat:"short",minDate:null,maxDate:null,initialDate:null,monthsBeforeCurrent:0,monthsAfterCurrent:0,weekStartsOn:1,id:"_ad-",dateFormat:"yyyy-mm-dd",inputName:"datepicker-input",theme:"dark"},I={description:"This is a datepicker. You can type in a date using the keyboard. Use the required date format. It should be:"+M.dateFormat+" You can also use the datepicker to select a date. Press shift and arrow down to focus the datepicker. Press left arrow to move one day back. Press right arrow to move one day ahead. Press arrow up to move one week back.  Press arrow down to move one week ahead Press Space to select a date. Press Escape to close the datepicker.",notInRange:"The date is not within the intended date range.",nextGroups:"Show next months.",prevGroups:"Show previous months."};return function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('[data-ad-selector="datepicker-container"] {\n    position: absolute;\n    display: flex;\n    flex-direction: row;\n    z-index: 1001;\n}\n\n[data-ad-selector="group-container"] {\n    position: relative;\n}\n\n.visuallyhidden:not(:focus):not(:active) {\n    position: absolute;\n  \n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    border: 0;\n    padding: 0;\n  \n    white-space: nowrap;\n  \n    clip-path: inset(100%);\n    clip: rect(0 0 0 0);\n    overflow: hidden;\n}'),function(e,t){var r={selectedDate:null};!function(e,t,r,i){var o,d=B(M,e||{});d.translations=B(I,t||{}),d.monthsBeforeCurrent=-1*d.monthsBeforeCurrent,d.weekdays=function e(t,a,r,i){return i||(i=[]),7===i.length?i:(i.push(t.toLocaleDateString(a,{weekday:r})),e(n(t,1),a,r,i))}((o=d.weekStartsOn,n(a([2014,10,9]),o)),d.locale,d.weekDayFormat),console.log(d.id);var u=document.getElementById(d.id);if(u.classList.add(d.theme),navigator.userAgent.match(/mobi/gi))!function(e,t){var n=document.createElement("input");n.type="date",t.maxDate&&F(n,"max",t.maxDate,t.dateFormat),t.minDate&&F(n,"min",t.minDate,t.dateFormat),e.appendChild(n)}(u,d);else{var c=function(e,t){var n=document.createElement("p");n.appendChild(document.createTextNode(t.translations.description)),n.classList.add("visuallyhidden"),n.id=t.id+"description",e.appendChild(n);var a=document.createElement("input");return a.setAttribute("aria-describedby",t.id+"description"),a.type="text",a.setAttribute("data-ad-id",t.id+"input"),a.setAttribute("name",t.inputName),e.appendChild(a),a}(u,d);new S(d,r,i).setListeners(u,c)}}(e,t,(function(e,t){r[e]=t}),(function(e){return r[e]}))}}();
